
-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local v2 = v1.import(script, v1.getModule(script, "@rbxts", "message-templates").out);
local v3 = setmetatable({}, {
	__tostring = function()
		return "LogEventRobloxOutputSink";
	end
});
v3.__index = v3;
function v3.new(...)
	local v4 = setmetatable({}, v3);
	return v4:constructor(...) and v4;
end;
function v3.constructor(p1, p2)
	p1.options = p2;
end;
local l__LogLevel__1 = v1.import(script, script.Parent).LogLevel;
local u2 = v2.PlainTextMessageTemplateRenderer;
local l__MessageTemplateParser__3 = v2.MessageTemplateParser;
function v3.Emit(p3, p4)
	local v5 = nil;
	local l__options__6 = p3.options;
	local v7 = l__options__6.TagFormat;
	if v7 == nil then
		v7 = "short";
	end;
	local l__Prefix__8 = l__options__6.Prefix;
	if l__LogLevel__1.Error <= p4.Level and l__options__6.ErrorsTreatedAsExceptions then
		return nil;
	end;
	local v9 = DateTime.fromIsoDate(p4.Timestamp);
	if v9 ~= nil then
		v9 = v9:FormatLocalTime("HH:mm:ss", "en-us");
	end;
	local v10 = nil;
	local l__Level__11 = p4.Level;
	if l__Level__11 == l__LogLevel__1.Verbose then
		if v7 == "short" then
			v10 = "VRB";
		else
			v10 = "VERBOSE";
		end;
	elseif l__Level__11 == l__LogLevel__1.Debugging then
		if v7 == "short" then
			v10 = "DBG";
		else
			v10 = "DEBUG";
		end;
	elseif l__Level__11 == l__LogLevel__1.Information then
		if v7 == "short" then
			v10 = "INF";
		else
			v10 = "INFO";
		end;
	elseif l__Level__11 == l__LogLevel__1.Warning then
		if v7 == "short" then
			v10 = "WRN";
		else
			v10 = "WARNING";
		end;
	elseif l__Level__11 == l__LogLevel__1.Error then
		if v7 == "short" then
			v10 = "ERR";
		else
			v10 = "ERROR";
		end;
	elseif l__Level__11 == l__LogLevel__1.Fatal then
		if v7 == "short" then
			v10 = "FTL";
		else
			v10 = "FATAL";
		end;
	end;
	v5 = u2.new(l__MessageTemplateParser__3.GetTokens(p4.Template)):Render(p4);
	if l__Prefix__8 ~= nil then
		local v12 = "[" .. l__Prefix__8 .. "] [" .. v10 .. "] " .. v5;
	else
		v12 = "[" .. v10 .. "] " .. v5;
	end;
	if l__LogLevel__1.Warning <= p4.Level then
		warn(v12);
		return;
	end;
	print(v12);
end;
return {
	LogEventRobloxOutputSink = v3
};

