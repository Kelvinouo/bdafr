-- Decompiled with the Synapse X Luau decompiler.

local u1 = {};
local function u2(p1, p2)
	if type(p1) ~= "function" then
		return p1;
	end;
	return p1(p2);
end;
return function(p3)
	local u3 = {};
	return function(p4)
		p3.hookCounter = p3.hookCounter + 1;
		local l__hookCounter__1 = p3.hookCounter;
		local v2 = p3.state[l__hookCounter__1];
		if v2 == nil then
			local v3 = p3.defaultStateValues[l__hookCounter__1];
			if v3 == u1 then
				v2 = nil;
			elseif v3 ~= nil then
				v2 = v3;
			elseif type(p4) == "function" then
				v2 = p4();
				if v2 == nil then
					p3.defaultStateValues[l__hookCounter__1] = u1;
				else
					p3.defaultStateValues[l__hookCounter__1] = v2;
				end;
			else
				v2 = p4;
				p3.defaultStateValues[l__hookCounter__1] = v2;
			end;
		elseif v2 == u1 then
			v2 = nil;
		end;
		local v4 = u3[l__hookCounter__1];
		if v4 == nil then
			v4 = function(p5)
				local v5 = p3.state[l__hookCounter__1];
				if v5 == nil then
					v5 = p3.defaultStateValues[l__hookCounter__1];
				end;
				if v5 == u1 then
					v5 = nil;
				end;
				p5 = u2(p5, v5);
				if p5 == nil then
					p5 = u1;
				end;
				p3:setState({
					[l__hookCounter__1] = p5
				});
			end;
			u3[l__hookCounter__1] = v4;
		end;
		return v2, v4;
	end;
end;
