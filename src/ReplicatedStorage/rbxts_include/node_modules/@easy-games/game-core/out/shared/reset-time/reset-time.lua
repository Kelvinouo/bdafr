-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local v2 = setmetatable({}, {
	__tostring = function()
		return "ResetTime";
	end
});
v2.__index = v2;
function v2.new(...)
	local v3 = setmetatable({}, v2);
	return v3:constructor(...) and v3;
end;
function v2.constructor(p1, p2)
	local v4 = tonumber(p2);
	if v4 ~= 0 and v4 == v4 and v4 then
		p1.firstResetTime = p2;
		return;
	end;
	local v5 = {};
	for v6, v7 in pairs(p2) do
		v5[v6] = v7;
	end;
	p1.firstResetTime = os.time(v5);
end;
function v2.getResetId(p3, p4)
	return tostring((math.floor((os.time() - p3.firstResetTime) / p4)));
end;
function v2.getNumResets(p5, p6)
	return tonumber(p5:getResetId(p6));
end;
function v2.getTimeTillReset(p7, p8)
	return p7:getNextResetTime(p8) - os.time();
end;
function v2.getNextResetTime(p9, p10)
	return p9.firstResetTime + p10 * math.ceil((os.time() - p9.firstResetTime) / p10);
end;
function v2.getDailyResetId(p11)
	return p11:getResetId(86400);
end;
function v2.getNextDailyResetTime(p12)
	return p12:getNextResetTime(86400);
end;
function v2.getWeeklyResetId(p13)
	return p13:getResetId(604800);
end;
function v2.getNextWeeklyResetTime(p14)
	return p14:getNextResetTime(604800);
end;
local u1 = v1.import(script, v1.getModule(script, "@rbxts", "maid").Maid);
function v2.poll(p15, p16, p17, p18)
	local v8 = u1.new();
	local u2 = true;
	local u3 = p15:getResetId(p16);
	local function u4()
		if u2 then
			local v9 = p15:getResetId(p16);
			if v9 ~= u3 then
				p18(v9);
			end;
			u3 = v9;
			local v10 = p15:getTimeTillReset(p16);
			if v10 < p17 then
				task.delay(v10, u4);
				return;
			end;
			task.delay(p17, u4);
		end;
	end;
	u4();
	v8:GiveTask(function()
		u2 = false;
	end);
	return v8;
end;
return {
	ResetTime = v2
};
