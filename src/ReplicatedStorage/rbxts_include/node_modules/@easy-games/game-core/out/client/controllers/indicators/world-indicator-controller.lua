
-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local l__Reflect__2 = v1.import(script, v1.getModule(script, "@flamework", "core").out).Reflect;
local v3 = v1.import(script, v1.getModule(script, "@rbxts", "services"));
local v4 = setmetatable({}, {
	__tostring = function()
		return "WorldIndicatorController";
	end
});
v4.__index = v4;
function v4.new(...)
	local v5 = setmetatable({}, v4);
	return v5:constructor(...) and v5;
end;
function v4.constructor(p1)
	p1.activeIndicators = {};
end;
local l__CurrentCamera__1 = v3.Workspace.CurrentCamera;
function v4.onStart(p2)
	p2.uiContainer = p2:createUiContainer();
	l__CurrentCamera__1:GetPropertyChangedSignal("ViewportSize"):Connect(function()
		return p2:updateUiContainer();
	end);
	p2:updateUiContainer();
end;
local l__HttpService__2 = v3.HttpService;
local l__IndicatorUIType__3 = v1.import(script, script.Parent, "indicator-types").IndicatorUIType;
local l__CircleIndicator__4 = v1.import(script, script.Parent, "indicator-renderers", "circle-indicator").CircleIndicator;
local l__IconIndicator__5 = v1.import(script, script.Parent, "indicator-renderers", "icon-indicator").IconIndicator;
local l__CustomIndicator__6 = v1.import(script, script.Parent, "indicator-renderers", "custom-indicator").CustomIndicator;
function v4.addIndicator(p3, p4)
	local v6 = l__HttpService__2:GenerateGUID(false);
	local l__uiType__7 = p4.uiType;
	if l__uiType__7 == l__IndicatorUIType__3.Circle then
		local v8 = l__CircleIndicator__4.new(v6, p3.uiContainer, p4);
	elseif l__uiType__7 == l__IndicatorUIType__3.Icon then
		v8 = l__IconIndicator__5.new(v6, p3.uiContainer, p4);
	elseif l__uiType__7 == l__IndicatorUIType__3.Custom then
		v8 = l__CustomIndicator__6.new(v6, p3.uiContainer, p4);
	else
		v8 = l__CircleIndicator__4.new(v6, p3.uiContainer, p4);
	end;
	p3.activeIndicators[v6] = v8;
	return v8;
end;
function v4.removeIndicator(p5, p6)
	p5.activeIndicators[p6] = nil;
end;
function v4.onRender(p7)
	for v9, v10 in pairs(p7.activeIndicators) do
		v10:update();
	end;
end;
function v4.updateUiContainer(p8)
	local l__ViewportSize__11 = l__CurrentCamera__1.ViewportSize;
	local v12 = math.min(l__ViewportSize__11.X, l__ViewportSize__11.Y) * 0.065;
	p8.uiContainer.Position = UDim2.fromOffset(v12, v12);
	p8.uiContainer.Size = UDim2.new(1, -v12 * 2, 1, -v12 * 2);
end;
local u7 = v1.import(script, v1.getModule(script, "@rbxts", "make"));
local l__Players__8 = v3.Players;
function v4.createUiContainer(p9)
	local v13 = u7("Frame", {
		BackgroundTransparency = 1
	});
	u7("ScreenGui", {
		Name = "WorldIndicators", 
		DisplayOrder = 100, 
		ResetOnSpawn = false, 
		Parent = l__Players__8.LocalPlayer:FindFirstChildOfClass("PlayerGui"), 
		Children = { v13 }
	});
	return v13;
end;
l__Reflect__2.defineMetadata(v4, "identifier", "@easy-games/game-core:client/controllers/indicators/world-indicator-controller@WorldIndicatorController");
l__Reflect__2.defineMetadata(v4, "flamework:isExternal", false);
l__Reflect__2.defineMetadata(v4, "flamework:implements", { "$:flamework@OnRender", "$:flamework@OnStart" });
l__Reflect__2.defineMetadata(v4, "flamework:decorators", { "$:flamework@Controller" });
l__Reflect__2.defineMetadata(v4, "flamework:decorators.$:flamework@Controller", {
	type = "Controller"
});
return {
	WorldIndicatorController = v4
};

