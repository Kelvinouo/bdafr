-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local v2 = v1.import(script, v1.getModule(script, "@rbxts", "services"));
local v3 = setmetatable({}, {
	__tostring = function()
		return "ClickHold";
	end
});
v3.__index = v3;
function v3.new(...)
	local v4 = setmetatable({}, v3);
	return v4:constructor(...) and v4;
end;
local u1 = v1.import(script, v1.getModule(script, "@rbxts", "roact").src);
function v3.constructor(p1, p2, p3)
	if p3 == nil then
		p3 = true;
	end;
	p1.durationSeconds = p2;
	p1.closeOnComplete = p3;
	p1.startedClickTime = -1;
	p1.wrapperRef = u1.createRef();
	p1.progressRef = u1.createRef();
	p1.tweens = {};
end;
function v3.startClick(p4, p5)
	p4.startedClickTime = tick();
	local l__startedClickTime__5 = p4.startedClickTime;
	local u2 = p4:showProgress(l__startedClickTime__5, p5);
	v1.Promise.defer(function()
		wait(p4.durationSeconds);
		if u2 == p4.handle and l__startedClickTime__5 == p4.startedClickTime and p4.closeOnComplete then
			p4:hideProgress();
			if p4.onComplete ~= nil then
				p4.onComplete();
			end;
			if p4.onPartialComplete ~= nil then
				p4.onPartialComplete(1);
			end;
			p4.startedClickTime = -1;
		end;
	end);
end;
local u3 = v1.import(script, v1.getModule(script, "@rbxts", "maid").Maid);
local l__Empty__4 = v1.import(script, script.Parent.Parent, "components", "empty").Empty;
local l__ColorUtil__5 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "util", "color-util").ColorUtil;
local l__Players__6 = v2.Players;
local l__TweenService__7 = v2.TweenService;
function v3.displayErrorNotification(p6, p7)
	if v3.errorMessageCooldown:has("text") then
		return nil;
	end;
	v3.errorMessageCooldown:add("text");
	local v6 = u3.new();
	if v3.errorTree then
		u1.unmount(v3.errorTree);
		v3.errorTree = nil;
	end;
	local v7 = u1.mount(u1.createElement("ScreenGui", {}, { u1.createElement(l__Empty__4, {
			Size = UDim2.new(0.11, 0, 0.03, 0), 
			Position = UDim2.new(0.5, 0, 0.55, 0)
		}, { u1.createElement("TextLabel", {
				Size = UDim2.fromScale(1, 1), 
				Text = "<b>" .. p7 .. "</b>", 
				TextScaled = true, 
				RichText = true, 
				Font = "Roboto", 
				TextXAlignment = "Left", 
				TextColor3 = l__ColorUtil__5.WHITE, 
				BackgroundTransparency = 1, 
				[u1.Ref] = v3.textLabelRef
			}) }) }), l__Players__6.LocalPlayer:WaitForChild("PlayerGui"));
	v3.errorTree = v7;
	local v8 = tonumber((utf8.len(p7)));
	if v8 ~= 0 and v8 == v8 and v8 then
		l__TweenService__7:Create(v3.textLabelRef:getValue(), TweenInfo.new(0.25, Enum.EasingStyle.Exponential, Enum.EasingDirection.Out), {
			MaxVisibleGraphemes = v8
		}):Play();
	end;
	v6:GiveTask(function()
		if v7 == v3.errorTree then
			u1.unmount(v7);
			v3.errorTree = nil;
		end;
	end);
	task.delay(3, function()
		v6:DoCleaning();
	end);
end;
local l__Countdown__8 = v1.import(script, script.Parent.Parent, "components", "countdown").Countdown;
function v3.showProgress(p8, p9, p10)
	local v9 = p10;
	if v9 ~= nil then
		v9 = v9.image;
	end;
	local v10 = v9 ~= nil;
	local v11 = p10;
	if v11 ~= nil then
		v11 = v11.showTimer;
	end;
	local v12 = 1;
	if v10 then
		v12 = v12 - 0.2;
	end;
	if v11 then
		v12 = v12 - 0.2;
	end;
	local v13 = {};
	local v14 = {};
	local v15 = p10;
	if v15 ~= nil then
		v15 = v15.size;
	end;
	local v16 = v15;
	if v16 == nil then
		v16 = UDim2.new(0.11, 0, 0.015, 0);
	end;
	v14.Size = v16;
	v14.Position = UDim2.new(0.5, 0, 0.55, 0);
	local v17 = { u1.createElement("UIListLayout", {
			FillDirection = "Horizontal", 
			VerticalAlignment = "Center", 
			Padding = UDim.new(0.05, 0)
		}) };
	local v18 = v10 and u1.createElement("ImageLabel", {
		Size = UDim2.fromScale(1, 1), 
		Image = p10.image, 
		SizeConstraint = "RelativeYY", 
		ScaleType = "Fit", 
		BackgroundTransparency = 1
	});
	if v18 then
		v17[#v17 + 1] = v18;
	end;
	local v19 = #v17;
	local v20 = p10;
	if v20 ~= nil then
		v20 = v20.name;
	end;
	local v21 = v20 ~= nil and u1.createElement("TextLabel", {
		Size = UDim2.fromScale(1, 0.45), 
		Text = "<b>" .. p10.name .. "</b>", 
		TextScaled = true, 
		RichText = true, 
		Font = "Roboto", 
		TextXAlignment = "Left", 
		TextColor3 = l__ColorUtil__5.WHITE, 
		BackgroundTransparency = 1
	});
	local v22 = { u1.createElement("UIListLayout", {
			FillDirection = "Vertical", 
			HorizontalAlignment = "Left", 
			Padding = UDim.new(0.1, 0)
		}) };
	if v21 then
		v22[#v22 + 1] = v21;
	end;
	local v23 = {};
	local v24 = {
		[u1.Ref] = p8.progressRef, 
		Size = UDim2.new(0, 0, 1, 0)
	};
	local v25 = p10;
	if v25 ~= nil then
		v25 = v25.barColor;
	end;
	local v26 = v25;
	if v26 == nil then
		v26 = Color3.fromRGB(255, 255, 255);
	end;
	v24.BackgroundColor3 = v26;
	local v27 = p10;
	if v27 ~= nil then
		v27 = v27.barTransparency;
	end;
	local v28 = v27;
	if v28 == nil then
		v28 = 0.5;
	end;
	v24.BackgroundTransparency = v28;
	v23[#v23 + 1] = u1.createElement("Frame", v24);
	v22[#v22 + 1] = u1.createElement("Frame", {
		[u1.Ref] = p8.wrapperRef, 
		Size = UDim2.new(0, 0, 0, 0), 
		Position = UDim2.new(0.5, 0, 0.55, 0), 
		AnchorPoint = Vector2.new(0.5, 0), 
		BackgroundColor3 = Color3.fromRGB(0, 0, 0), 
		BackgroundTransparency = 0.8
	}, v23);
	v17[v19 + 1] = u1.createElement(l__Empty__4, {
		Size = UDim2.fromScale(v12, 1)
	}, v22);
	local v29 = v11 and u1.createElement(l__Countdown__8, {
		EndTime = p8.startedClickTime + p8.durationSeconds, 
		UseTick = true, 
		CountdownConfig = {
			days = false, 
			hours = false, 
			minutes = false, 
			disablePadding = true, 
			decimalPoints = 1, 
			seperator = ""
		}, 
		TextLabel = {
			Size = UDim2.fromScale(0.15, 0.5), 
			TextXAlignment = Enum.TextXAlignment.Left
		}
	});
	if v29 then
		v17[v19 + 2] = v29;
	end;
	v13[#v13 + 1] = u1.createElement(l__Empty__4, v14, v17);
	local v30 = u1.createElement("ScreenGui", {}, v13);
	if p8.handle then
		u1.unmount(p8.handle);
		p8.handle = nil;
	end;
	if v3.errorTree then
		u1.unmount(v3.errorTree);
	end;
	if p9 == p8.startedClickTime then
		p8.handle = u1.mount(v30, l__Players__6.LocalPlayer:FindFirstChild("PlayerGui"));
		local v31 = l__TweenService__7:Create(p8.wrapperRef:getValue(), TweenInfo.new(0.1), {
			Size = UDim2.new(1, 0, 0.45, 0)
		});
		table.insert(p8.tweens, v31);
		v31:Play();
		local v32 = l__TweenService__7:Create(p8.progressRef:getValue(), TweenInfo.new(p8.durationSeconds, Enum.EasingStyle.Linear), {
			Size = UDim2.new(1, 0, 1, 0)
		});
		table.insert(p8.tweens, v32);
		v32:Play();
	end;
	return p8.handle;
end;
function v3.hideProgress(p11)
	local v33, v34, v35 = ipairs(p11.tweens);
	while true do
		v33(v34, v35);
		if not v33 then
			break;
		end;
		v35 = v33;
		local v36 = v34:Cancel();	
	end;
	p11.tweens = {};
	if p11.handle then
		u1.unmount(p11.handle);
		p11.handle = nil;
	end;
end;
function v3.endClick(p12)
	p12:hideProgress();
	if p12.startedClickTime > 0 then
		if p12.durationSeconds <= tick() - p12.startedClickTime and p12.onComplete ~= nil then
			p12.onComplete();
		end;
		if p12.onPartialComplete ~= nil then
			p12.onPartialComplete((tick() - p12.startedClickTime) / p12.durationSeconds);
		end;
	end;
	p12.startedClickTime = -1;
end;
function v3.cancelClick(p13)
	p13.startedClickTime = -1;
	p13:hideProgress();
end;
function v3.disable(p14)
	p14.onComplete = nil;
	p14.onPartialComplete = nil;
	p14.startedClickTime = -1;
	p14:hideProgress();
end;
function v3.setOnComplete(p15, p16)
	p15.onComplete = p16;
end;
function v3.setOnPartialComplete(p17, p18)
	p17.onPartialComplete = p18;
end;
v3.textLabelRef = u1.createRef();
v3.errorMessageCooldown = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "object", "expire-list").ExpireList.new(3);
return {
	ClickHold = v3
};
