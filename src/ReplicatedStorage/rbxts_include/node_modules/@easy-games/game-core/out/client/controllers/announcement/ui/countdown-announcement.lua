-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local u1 = v1.import(script, v1.getModule(script, "@rbxts", "roact").src);
local l__TweenService__2 = v1.import(script, v1.getModule(script, "@rbxts", "services")).TweenService;
local l__AnnouncementUtil__3 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "announcement", "announcement-util").AnnouncementUtil;
local l__DeviceUtil__4 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "util", "device-util").DeviceUtil;
local l__Flamework__5 = v1.import(script, v1.getModule(script, "@flamework", "core").out).Flamework;
local l__ColorUtil__6 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "util", "color-util").ColorUtil;
local l__GameTheme__7 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "ui", "game-theme").GameTheme;
local l__Countdown__8 = v1.import(script, script.Parent.Parent.Parent.Parent, "ui", "lib", "components", "countdown").Countdown;
local l__Empty__9 = v1.import(script, script.Parent.Parent.Parent.Parent, "ui", "lib", "components", "empty").Empty;
return {
	CountdownAnnouncement = v1.import(script, v1.getModule(script, "@rbxts", "roact-hooks").src).new(u1)(function(p1, p2)
		local v2 = p1.Announcement.themeColor;
		if v2 == nil then
			v2 = Color3.fromHex("#54FFFF");
		end;
		local u10 = u1.createRef();
		local u11 = u1.createRef();
		local u12 = u1.createRef();
		local u13 = u1.createRef();
		p2.useEffect(function()
			local v3 = nil;
			local v4 = nil;
			local v5 = u10:getValue();
			v4 = u11:getValue();
			v3 = u12:getValue();
			if not v5 or not v3 or not v4 then
				return nil;
			end;
			local u14 = u13:getValue();
			(function()
				local function v6(p3)
					local v7 = l__TweenService__2:Create(p3, TweenInfo.new(0.4, Enum.EasingStyle.Exponential, Enum.EasingDirection.InOut), {
						Size = UDim2.fromScale(0.5, 1)
					});
					v7:Play();
					return v7;
				end;
				l__TweenService__2:Create(v3, TweenInfo.new(0.45), {
					ImageTransparency = 0
				}):Play();
				if u14 then
					l__TweenService__2:Create(u14, TweenInfo.new(0.45), {
						ImageTransparency = 0
					}):Play();
					v6(u14);
				end;
				local function u15()
					local v8 = l__TweenService__2:Create(v5, TweenInfo.new(0.2, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {
						Position = UDim2.fromScale(0.5, 0.25), 
						TextTransparency = 0
					}):Play();
					local v9 = l__TweenService__2:Create(v4, TweenInfo.new(0.2, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {
						Position = UDim2.fromScale(0.5, 1), 
						TextTransparency = 0
					}):Play();
				end;
				v6(v3).Completed:Connect(function()
					u15();
				end);
			end)();
			(function()
				local v10 = p1.Announcement.duration;
				if v10 == nil then
					v10 = l__AnnouncementUtil__3.DEFAULT_DURATION;
				end;
				local u16 = l__TweenService__2:Create(v5, TweenInfo.new(0.01, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
					Position = UDim2.fromScale(0.5, 0.25), 
					TextTransparency = 1
				});
				local u17 = l__TweenService__2:Create(v4, TweenInfo.new(0.01, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
					Position = UDim2.fromScale(0.5, 0.9), 
					TextTransparency = 1
				});
				local function u18(p4)
					return l__TweenService__2:Create(p4, TweenInfo.new(0.3, Enum.EasingStyle.Exponential, Enum.EasingDirection.InOut), {
						ImageTransparency = 1
					});
				end;
				local function u19(p5)
					return l__TweenService__2:Create(p5, TweenInfo.new(0.3, Enum.EasingStyle.Exponential, Enum.EasingDirection.InOut), {
						Size = UDim2.fromScale(0, 1)
					});
				end;
				v1.Promise.delay(v10):andThen(function()
					u16:Play();
					u17:Play();
					u18(v3):Play();
					local v11 = u19(v3);
					v11:Play();
					if u14 then
						u18(u14):Play();
						u19(u14):Play();
					end;
					if l__DeviceUtil__4.isHoarceKat() then
						return nil;
					end;
					v11.Completed:Connect(function()
						l__Flamework__5.resolveDependency("@easy-games/game-core:client/controllers/announcement/announcement-controller@AnnouncementController"):endAnnouncement(p1.Announcement.important);
					end);
				end);
			end)();
		end, {});
		local function v12()
			local v13 = {};
			local v14 = {
				AnchorPoint = Vector2.new(0.5, 0.5), 
				Position = UDim2.fromScale(0.5, 0.35), 
				Size = UDim2.fromScale(0.9, 0.6)
			};
			if l__DeviceUtil__4.isSmallScreen() then
				local v15 = 1.5;
			else
				v15 = 2.5;
			end;
			v14.Text = "<stroke color=\"" .. l__ColorUtil__6.richTextColor(l__GameTheme__7.Gray) .. "\" thickness=\"" .. tostring(2 * v15) .. "\">" .. p1.Announcement.message .. "</stroke>";
			v14.TextColor3 = l__ColorUtil__6.WHITE;
			v14.TextScaled = true;
			v14.RichText = true;
			v14.Font = "LuckiestGuy";
			v14.SizeConstraint = "RelativeXY";
			v14.BackgroundTransparency = 1;
			v14.TextTransparency = 1;
			v14[u1.Ref] = u10;
			v14.ZIndex = 4;
			v13.AnnouncementMessage = u1.createElement("TextLabel", v14);
			return u1.createFragment(v13);
		end;
		local v16 = {};
		local l__backgroundImage__17 = p1.Announcement.backgroundImage;
		if l__backgroundImage__17 ~= "" and l__backgroundImage__17 then
			local v18 = {};
			local v19 = p1.Announcement.backgroundImage;
			if v19 == nil then
				v19 = "rbxassetid://9290915178";
			end;
			v18.Image = v19;
			v18.ImageTransparency = 1;
			v18.AnchorPoint = Vector2.new(0.5, 0.5);
			v18.Position = UDim2.fromScale(0.5, 0.5);
			v18.Size = UDim2.fromScale(0, 1);
			v18.BackgroundTransparency = 1;
			v18.ImageColor3 = v2;
			v18[u1.Ref] = u12;
			local v20 = u1.createFragment({
				AnnouncementBackground = u1.createElement("ImageLabel", v18, { u1.createElement("UIAspectRatioConstraint", {
						AspectRatio = 12.617647058823529
					}), u1.createElement(v12) })
			});
		else
			v20 = u1.createFragment({
				AnnouncementBGStroke = u1.createFragment({
					AnnouncementBGStroke = u1.createElement("ImageLabel", {
						Image = "rbxassetid://9338854959", 
						ImageTransparency = 1, 
						AnchorPoint = Vector2.new(0.5, 0.5), 
						Position = UDim2.fromScale(0.5, 0.5), 
						Size = UDim2.fromScale(0, 1), 
						BackgroundTransparency = 1, 
						ImageColor3 = v2, 
						[u1.Ref] = u13, 
						ScaleType = "Slice", 
						SliceCenter = Rect.new(162, 13, 162, 13), 
						SliceScale = 4, 
						ZIndex = 2
					}, { u1.createElement("UIAspectRatioConstraint", {
							AspectRatio = 12.617647058823529
						}), u1.createElement(v12) })
				}), 
				AnnouncementBackground = u1.createFragment({
					AnnouncementBackground = u1.createElement("ImageLabel", {
						Image = "rbxassetid://9338855112", 
						ImageTransparency = 1, 
						AnchorPoint = Vector2.new(0.5, 0.5), 
						Position = UDim2.fromScale(0.5, 0.5), 
						Size = UDim2.fromScale(0, 1), 
						BackgroundTransparency = 1, 
						[u1.Ref] = u12, 
						ScaleType = "Slice", 
						SliceCenter = Rect.new(162, 13, 162, 13), 
						SliceScale = 4, 
						ZIndex = 3
					}, { u1.createElement("UIAspectRatioConstraint", {
							AspectRatio = 12.617647058823529
						}) })
				})
			});
		end;
		local v21 = {};
		v21[#v21 + 1] = v20;
		local v22 = {
			EndTime = p1.Announcement.endTime, 
			CountdownConfig = {
				days = false, 
				hours = false
			}, 
			TextLabel = {
				Size = UDim2.fromScale(1, 0.5), 
				AnchorPoint = Vector2.new(0.5, 0.5), 
				Position = UDim2.fromScale(0.5, 0.9), 
				TextTransparency = 1, 
				Ref = u11
			}
		};
		if l__DeviceUtil__4.isSmallScreen() then
			local v23 = 1.5;
		else
			v23 = 2.5;
		end;
		v22.PreText = "<stroke color=\"" .. l__ColorUtil__6.richTextColor(l__GameTheme__7.Gray) .. "\" thickness=\"" .. tostring(2 * v23) .. "\">";
		v22.PostText = "</stroke>";
		v21[#v21 + 1] = u1.createElement(l__Countdown__8, v22);
		v16[#v16 + 1] = u1.createElement(l__Empty__9, {
			AnchorPoint = Vector2.new(0.5, 0), 
			Position = p1.Announcement.position or UDim2.fromScale(0.5, 0.125), 
			Size = UDim2.new(0.65, 0, 0.1, 0)
		}, v21);
		return u1.createFragment({
			CountdownAnnouncement = u1.createElement("ScreenGui", {
				ResetOnSpawn = false
			}, v16)
		});
	end)
};
