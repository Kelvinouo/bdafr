-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local l__TweenService__1 = v1.import(script, v1.getModule(script, "@rbxts", "services")).TweenService;
local l__AnnouncementUtil__2 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "announcement", "announcement-util").AnnouncementUtil;
local l__DeviceUtil__3 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "util", "device-util").DeviceUtil;
local l__Flamework__4 = v1.import(script, v1.getModule(script, "@flamework", "core").out).Flamework;
local u5 = v1.import(script, v1.getModule(script, "@rbxts", "roact").src);
local l__ColorUtil__6 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "util", "color-util").ColorUtil;
local l__GameTheme__7 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "ui", "game-theme").GameTheme;
local l__Empty__8 = v1.import(script, script.Parent.Parent.Parent.Parent, "ui", "lib", "components", "empty").Empty;
return {
	TextAnnouncement = v1.import(script, v1.getModule(script, "@rbxts", "roact-hooks").src).new(u5)(function(p1, p2)
		local v2 = p1.Announcement.themeColor;
		if v2 == nil then
			v2 = Color3.fromHex("#54FFFF");
		end;
		local u9 = nil;
		local u10 = nil;
		local u11 = nil;
		p2.useEffect(function()
			local v3 = nil;
			local v4 = u9:getValue();
			v3 = u10:getValue();
			if not v4 or not v3 then
				return nil;
			end;
			local u12 = u11:getValue();
			(function()
				local function v5(p3)
					local v6 = l__TweenService__1:Create(p3, TweenInfo.new(0.4, Enum.EasingStyle.Exponential, Enum.EasingDirection.InOut), {
						Size = UDim2.fromScale(0.5, 1)
					});
					v6:Play();
					return v6;
				end;
				l__TweenService__1:Create(v3, TweenInfo.new(0.45), {
					ImageTransparency = 0
				}):Play();
				if u12 then
					l__TweenService__1:Create(u12, TweenInfo.new(0.45), {
						ImageTransparency = 0
					}):Play();
					v5(u12);
				end;
				local function u13()
					local v7 = {};
					local v8 = p1.Announcement.textlabel;
					if v8 ~= nil then
						v8 = v8.tween;
						if v8 ~= nil then
							v8 = v8.disabled;
						end;
					end;
					if v8 then
						local v9 = nil;
					else
						local v10 = p1.Announcement.textlabel;
						if v10 ~= nil then
							v10 = v10.tween;
							if v10 ~= nil then
								v10 = v10.tweenInPosition;
							end;
						end;
						local v11 = v10;
						if v11 == nil then
							v11 = UDim2.fromScale(0.5, 0.25);
						end;
						v9 = v11;
					end;
					v7.Position = v9;
					v7.TextTransparency = 0;
					local v12 = l__TweenService__1:Create(v4, TweenInfo.new(0.2, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), v7):Play();
				end;
				v5(v3).Completed:Connect(function()
					u13();
				end);
			end)();
			(function()
				local v13 = {};
				local v14 = p1.Announcement.textlabel;
				if v14 ~= nil then
					v14 = v14.tween;
					if v14 ~= nil then
						v14 = v14.disabled;
					end;
				end;
				if v14 then
					local v15 = nil;
				else
					local v16 = p1.Announcement.textlabel;
					if v16 ~= nil then
						v16 = v16.tween;
						if v16 ~= nil then
							v16 = v16.tweenOutPosition;
						end;
					end;
					local v17 = v16;
					if v17 == nil then
						v17 = UDim2.fromScale(0.5, 0.25);
					end;
					v15 = v17;
				end;
				v13.Position = v15;
				v13.TextTransparency = 1;
				local v18 = p1.Announcement.duration;
				if v18 == nil then
					v18 = l__AnnouncementUtil__2.DEFAULT_DURATION;
				end;
				local u14 = l__TweenService__1:Create(v4, TweenInfo.new(0.01, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), v13);
				local function u15(p4)
					return l__TweenService__1:Create(p4, TweenInfo.new(0.3, Enum.EasingStyle.Exponential, Enum.EasingDirection.InOut), {
						ImageTransparency = 1
					});
				end;
				local function u16(p5)
					return l__TweenService__1:Create(p5, TweenInfo.new(0.3, Enum.EasingStyle.Exponential, Enum.EasingDirection.InOut), {
						Size = UDim2.fromScale(0, 1)
					});
				end;
				v1.Promise.delay(v18):andThen(function()
					u14:Play();
					u15(v3):Play();
					local v19 = u16(v3);
					v19:Play();
					if u12 then
						u15(u12):Play();
						u16(u12):Play();
					end;
					if l__DeviceUtil__3.isHoarceKat() then
						return nil;
					end;
					v19.Completed:Connect(function()
						l__Flamework__4.resolveDependency("@easy-games/game-core:client/controllers/announcement/announcement-controller@AnnouncementController"):endAnnouncement(p1.Announcement.important);
					end);
				end);
			end)();
		end, {});
		u9 = u5.createRef();
		u10 = u5.createRef();
		u11 = u5.createRef();
		local function v20()
			local v21 = {
				AnchorPoint = Vector2.new(0.5, 0.5), 
				Position = UDim2.fromScale(0.5, 0.35), 
				Size = UDim2.fromScale(0.9, 0.5)
			};
			local v22 = p1.Announcement.textlabel;
			if v22 ~= nil then
				v22 = v22.stroke;
			end;
			local v23 = v22;
			if v23 == nil then
				if l__DeviceUtil__3.isSmallScreen() then
					local v24 = 1.5;
				else
					v24 = 2.5;
				end;
				v23 = 2 * v24;
			end;
			v21.Text = "<stroke color=\"" .. l__ColorUtil__6.richTextColor(l__GameTheme__7.Gray) .. "\" thickness=\"" .. tostring(v23) .. "\">" .. p1.Announcement.message .. "</stroke>";
			v21.TextColor3 = l__ColorUtil__6.WHITE;
			v21.TextScaled = true;
			v21.RichText = true;
			v21.Font = "LuckiestGuy";
			v21.SizeConstraint = "RelativeXY";
			v21.BackgroundTransparency = 1;
			v21.TextTransparency = 1;
			v21[u5.Ref] = u9;
			v21.ZIndex = 4;
			local v25 = p1.Announcement.textlabel;
			if v25 ~= nil then
				v25 = v25.props;
			end;
			if v25 then
				for v26, v27 in pairs(v25) do
					v21[v26] = v27;
				end;
			end;
			return u5.createFragment({
				AnnouncementMessage = u5.createElement("TextLabel", v21)
			});
		end;
		local v28 = {};
		local l__backgroundImage__29 = p1.Announcement.backgroundImage;
		if l__backgroundImage__29 ~= "" and l__backgroundImage__29 then
			local v30 = {};
			local v31 = p1.Announcement.backgroundImage;
			if v31 == nil then
				v31 = "rbxassetid://9290915178";
			end;
			v30.Image = v31;
			v30.ImageTransparency = 1;
			v30.AnchorPoint = Vector2.new(0.5, 0.5);
			v30.Position = UDim2.fromScale(0.5, 0.5);
			v30.Size = UDim2.fromScale(0, 1);
			v30.BackgroundTransparency = 1;
			v30.ImageColor3 = v2;
			v30[u5.Ref] = u10;
			local v32 = u5.createFragment({
				AnnouncementBackground = u5.createElement("ImageLabel", v30, { u5.createElement("UIAspectRatioConstraint", {
						AspectRatio = 12.617647058823529
					}), u5.createElement(v20) })
			});
		else
			v32 = u5.createFragment({
				AnnouncementBGStroke = u5.createFragment({
					AnnouncementBGStroke = u5.createElement("ImageLabel", {
						Image = "rbxassetid://9338854959", 
						ImageTransparency = 1, 
						AnchorPoint = Vector2.new(0.5, 0.5), 
						Position = UDim2.fromScale(0.5, 0.5), 
						Size = UDim2.fromScale(0, 1), 
						BackgroundTransparency = 1, 
						ImageColor3 = v2, 
						[u5.Ref] = u11, 
						ScaleType = "Slice", 
						SliceCenter = Rect.new(162, 13, 162, 13), 
						SliceScale = 4, 
						ZIndex = 2
					}, { u5.createElement("UIAspectRatioConstraint", {
							AspectRatio = 12.617647058823529
						}), u5.createElement(v20) })
				}), 
				AnnouncementBackground = u5.createFragment({
					AnnouncementBackground = u5.createElement("ImageLabel", {
						Image = "rbxassetid://9338855112", 
						ImageTransparency = 1, 
						AnchorPoint = Vector2.new(0.5, 0.5), 
						Position = UDim2.fromScale(0.5, 0.5), 
						Size = UDim2.fromScale(0, 1), 
						BackgroundTransparency = 1, 
						[u5.Ref] = u10, 
						ScaleType = "Slice", 
						SliceCenter = Rect.new(162, 13, 162, 13), 
						SliceScale = 4, 
						ZIndex = 3
					}, { u5.createElement("UIAspectRatioConstraint", {
							AspectRatio = 12.617647058823529
						}) })
				})
			});
		end;
		local v33 = {};
		v33[#v33 + 1] = v32;
		v28[#v28 + 1] = u5.createElement(l__Empty__8, {
			AnchorPoint = Vector2.new(0.5, 0), 
			Position = p1.Announcement.position or UDim2.fromScale(0.5, 0.125), 
			Size = UDim2.new(0.65, 0, 0.1, 0)
		}, v33);
		return u5.createFragment({
			TextAnnouncement = u5.createElement("ScreenGui", {
				ResetOnSpawn = false
			}, v28)
		});
	end)
};
