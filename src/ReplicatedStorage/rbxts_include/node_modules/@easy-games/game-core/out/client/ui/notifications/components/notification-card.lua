-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local v2 = v1.import(script, v1.getModule(script, "@rbxts", "roact").src);
local v3 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "notification", "notification-const");
local v4 = v2.PureComponent:extend("NotificationCardBase");
local u1 = v1.import(script, v1.getModule(script, "@rbxts", "maid").Maid);
function v4.init(p1)
	p1.frameRef = v2.createRef();
	p1.positionMaid = u1.new();
	p1.alive = true;
end;
local l__TweenService__2 = v1.import(script, v1.getModule(script, "@rbxts", "services")).TweenService;
local l__NOTIFICATION_TIME__3 = v3.NOTIFICATION_TIME;
function v4.didMount(p2)
	l__TweenService__2:Create(p2.frameRef:getValue(), TweenInfo.new(0.2), {
		Position = UDim2.new(0.5, 0, 1, 0)
	}):Play();
	local v5 = p2.props.notificationRequest.displayTime;
	if v5 == nil then
		v5 = l__NOTIFICATION_TIME__3;
	end;
	v1.Promise.delay(v5):andThen(function()
		if p2.alive then
			local v6 = l__TweenService__2:Create(p2.frameRef:getValue(), TweenInfo.new(0.2), {
				Size = UDim2.fromScale(0, 1)
			});
			v6:Play();
			v6.Completed:Wait();
			p2.props:removeNotification(p2.props.notificationRequest.uniqueId);
		end;
	end);
end;
function v4.willUnmount(p3)
	p3.alive = false;
end;
local u4 = v3.NOTIFICATION_ASPECT_RATIO;
function v4.getHeight(p4)
	return p4.frameRef:getValue().AbsoluteSize.X / u4;
end;
function v4.didUpdate(p5, p6)
	local l__notifications__7 = p5.props.Notifications.notifications;
	local function v8(p7)
		return p7.uniqueId == p5.props.notificationRequest.uniqueId;
	end;
	local v9 = -1;
	for v10, v11 in ipairs(l__notifications__7) do
		if v8(v11, v10 - 1, l__notifications__7) == true then
			v9 = v10 - 1;
			break;
		end;
	end;
	local v12 = p5:getHeight() * 1.2 * v9;
	p5.positionMaid:DoCleaning();
	local v13 = l__TweenService__2:Create(p5.frameRef:getValue(), TweenInfo.new(0.2), {
		Position = UDim2.new(0.5, 0, 1, -v12)
	});
	v13:Play();
	p5.positionMaid:GiveTask(function()
		v13:Cancel();
	end);
end;
function v4.render(p8)
	local v14 = {
		[v2.Ref] = p8.frameRef, 
		Size = UDim2.fromScale(1, 0.15), 
		AnchorPoint = Vector2.new(0.5, 1), 
		Position = UDim2.fromScale(1.5, 1), 
		BorderSizePixel = 0, 
		BackgroundTransparency = 1
	};
	local v15 = { v2.createElement("UIAspectRatioConstraint", {
			AspectRatio = u4, 
			DominantAxis = "Height"
		}) };
	local v16 = #v15;
	local v17 = p8.props[v2.Children];
	if v17 then
		local v18, v19, v20 = pairs(v17);
		while true do
			local v21 = nil;
			local v22 = nil;
			v22, v21 = v18(v19, v20);
			if not v22 then
				break;
			end;
			v20 = v22;
			if type(v22) == "number" then
				v15[v16 + v22] = v21;
			else
				v15[v22] = v21;
			end;		
		end;
	end;
	return v2.createElement("Frame", v14, v15);
end;
return {
	NotificationCard = v1.import(script, v1.getModule(script, "@rbxts", "roact-rodux").src).connect(function(p9, p10)
		local v23 = {};
		for v24, v25 in pairs(p10) do
			v23[v24] = v25;
		end;
		v23.Notifications = p9.Notifications;
		return v23;
	end, function(p11)
		local v26 = {};
		function v26.removeNotification(p12, p13)
			p11({
				type = "RemoveNotification", 
				notificationId = p13
			});
		end;
		return v26;
	end)(v4)
};
