-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local v2 = v1.import(script, v1.getModule(script, "@rbxts", "roact").src);
local v3 = v1.import(script, script.Parent.Parent.Parent.Parent.Parent, "shared", "notification", "notification-const");
local v4 = v2.PureComponent:extend("NotificationCardBase");
local u1 = v1.import(script, v1.getModule(script, "@rbxts", "maid").Maid);
function v4.init(p1)
	p1.frameRef = v2.createRef();
	p1.positionMaid = u1.new();
	p1.alive = true;
end;
local l__TweenService__2 = v1.import(script, v1.getModule(script, "@rbxts", "services")).TweenService;
local l__NOTIFICATION_TIME__3 = v3.NOTIFICATION_TIME;
function v4.didMount(p2)
	l__TweenService__2:Create(p2.frameRef:getValue(), TweenInfo.new(0.2), {
		Position = UDim2.new(0.5, 0, 1, 0)
	}):Play();
	local v5 = p2.props.notificationRequest.displayTime;
	if v5 == nil then
		v5 = l__NOTIFICATION_TIME__3;
	end;
	v1.Promise.delay(v5):andThen(function()
		if p2.alive then
			local v6 = l__TweenService__2:Create(p2.frameRef:getValue(), TweenInfo.new(0.2), {
				Size = UDim2.fromScale(0, 1)
			});
			v6:Play();
			v6.Completed:Wait();
			p2.props:removeNotification(p2.props.notificationRequest.uniqueId);
		end;
	end);
end;
function v4.willUnmount(p3)
	p3.alive = false;
end;
local u4 = v3.NOTIFICATION_ASPECT_RATIO;
function v4.getHeight(p4)
	return p4.frameRef:getValue().AbsoluteSize.X / u4;
end;
function v4.didUpdate(p5, p6)
	local v7 = -1;
	for v8, v9 in ipairs(p5.props.Notifications.notifications) do
		if v9.uniqueId == p5.props.notificationRequest.uniqueId == true then
			v7 = v8 - 1;
			break;
		end;
	end;
	local v10 = p5:getHeight() * 1.2 * v7;
	p5.positionMaid:DoCleaning();
	local v11 = l__TweenService__2:Create(p5.frameRef:getValue(), TweenInfo.new(0.2), {
		Position = UDim2.new(0.5, 0, 1, -v10)
	});
	v11:Play();
	p5.positionMaid:GiveTask(function()
		v11:Cancel();
	end);
end;
function v4.render(p7)
	local v12 = {
		[v2.Ref] = p7.frameRef, 
		Size = UDim2.fromScale(1, 0.15), 
		AnchorPoint = Vector2.new(0.5, 1), 
		Position = UDim2.fromScale(1.5, 1), 
		BorderSizePixel = 0, 
		BackgroundTransparency = 1
	};
	local v13 = { v2.createElement("UIAspectRatioConstraint", {
			AspectRatio = u4, 
			DominantAxis = "Height"
		}) };
	local v14 = #v13;
	local v15 = p7.props[v2.Children];
	if v15 then
		local v16, v17, v18 = pairs(v15);
		while true do
			local v19 = nil;
			local v20 = nil;
			v20, v19 = v16(v17, v18);
			if not v20 then
				break;
			end;
			v18 = v20;
			if type(v20) == "number" then
				v13[v14 + v20] = v19;
			else
				v13[v20] = v19;
			end;		
		end;
	end;
	return v2.createElement("Frame", v12, v13);
end;
return {
	NotificationCard = v1.import(script, v1.getModule(script, "@rbxts", "roact-rodux").src).connect(function(p8, p9)
		local v21 = {};
		for v22, v23 in pairs(p9) do
			v21[v22] = v23;
		end;
		v21.Notifications = p8.Notifications;
		return v21;
	end, function(p10)
		local v24 = {};
		function v24.removeNotification(p11, p12)
			p10({
				type = "RemoveNotification", 
				notificationId = p12
			});
		end;
		return v24;
	end)(v4)
};
