-- Script Hash: 2e7d2d9c91446569671f0e042d220d77d02d4e63b96786bb80bcff7873b92f3649b5dd71a6933f1f806c81cc8ece9415
-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local v2 = v1.import(script, v1.getModule(script, "@rbxts", "roact").src);
local v3 = v1.import(script, v1.getModule(script, "@rbxts", "roact-rodux").src);
local v4 = v2.Component:extend("NotificationAppComponent");
function v4.init(p1)
	p1.frameRef = v2.createRef();
	p1.notifs = {};
end;
function v4.didMount(p2)

end;
local l__GameCoreClientConfig__1 = v1.import(script, script.Parent.Parent.Parent, "config", "game-core-config").GameCoreClientConfig;
local l__NotificationCard__2 = v1.import(script, script.Parent, "components", "notification-card").NotificationCard;
local l__StoreProvider__3 = v3.StoreProvider;
local u4 = v1.import(script, v1.getModule(script, "@rbxts", "object-utils"));
function v4.didUpdate(p3, p4)
	if p4.Notifications.notifications ~= p3.props.Notifications.notifications then
		for v5, v6 in ipairs(p3.props.Notifications.notifications) do
			if p3.notifs[v6.uniqueId] == nil then
				local v7 = {};
				for v8, v9 in pairs(v6.componentProps) do
					v7[v8] = v9;
				end;
				v7.uniqueId = v6.uniqueId;
				local v10 = {};
				local v11 = {};
				local v12 = {};
				for v13, v14 in pairs(v7) do
					v12[v13] = v14;
				end;
				v11[#v11 + 1] = v2.createElement(v6.component, v12);
				v10[#v10 + 1] = v2.createElement(l__NotificationCard__2, {
					notificationRequest = v6
				}, v11);
				p3.notifs[v6.uniqueId] = v2.mount(v2.createElement(l__StoreProvider__3, {
					store = l__GameCoreClientConfig__1.Store
				}, v10), p3.frameRef:getValue());
			end;
		end;
		local v15, v16, v17 = ipairs(u4.keys(p3.notifs));
		while true do
			local v18, v19 = v15(v16, v17);
			if not v18 then
				break;
			end;
			local l__notifications__20 = p3.props.Notifications.notifications;
			local function v21(p5)
				return p5.uniqueId == v19;
			end;
			local v22 = false;
			for v23, v24 in ipairs(l__notifications__20) do
				if v21(v24, v23 - 1, l__notifications__20) then
					v22 = true;
					break;
				end;
			end;
			if not v22 then
				local v25 = p3.notifs[v19];
				if v25 then
					v2.unmount(v25);
				end;
				p3.notifs[v19] = nil;
			end;		
		end;
	end;
end;
function v4.willUnmount(p6)

end;
local l__DeviceUtil__5 = v1.import(script, script.Parent.Parent.Parent.Parent, "shared", "util", "device-util").DeviceUtil;
function v4.render(p7)
	local v26 = {
		ResetOnSpawn = false
	};
	local l__ScreenGUIProps__27 = p7.props.ScreenGUIProps;
	if type(l__ScreenGUIProps__27) == "table" then
		for v28, v29 in pairs(l__ScreenGUIProps__27) do
			v26[v28] = v29;
		end;
	end;
	local v30 = {};
	for v31, v32 in pairs(v26) do
		v30[v31] = v32;
	end;
	local v33 = {};
	local v34 = {
		[v2.Ref] = p7.frameRef, 
		Size = UDim2.fromScale(0.16, 0.5), 
		AnchorPoint = Vector2.new(1, 1)
	};
	if l__DeviceUtil__5.isSmallScreen() then
		local v35 = 0.85;
	else
		v35 = 0.96;
	end;
	if l__DeviceUtil__5.isSmallScreen() then
		local v36 = 0.5;
	else
		v36 = 0.7;
	end;
	v34.Position = UDim2.fromScale(v35, v36);
	v34.BackgroundTransparency = 1;
	v34.BorderSizePixel = 0;
	v33[1] = v2.createElement("Frame", v34);
	return v2.createElement("ScreenGui", v30, v33);
end;
return {
	NotificationApp = v3.connect(function(p8, p9)
		local v37 = {};
		for v38, v39 in pairs(p9) do
			v37[v38] = v39;
		end;
		v37.Notifications = p8.Notifications;
		return v37;
	end, function(p10)
		return {};
	end)(v4)
};
