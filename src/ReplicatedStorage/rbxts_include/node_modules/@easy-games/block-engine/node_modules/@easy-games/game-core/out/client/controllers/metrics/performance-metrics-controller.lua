-- Script Hash: b0c324f6befb0192377f9c7b8b3c20fdff2f05cf4ccf6cb5d908d9d45f0fdd4e2ec3ab418f0dfafa9b9637904233f31e
-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local l__Reflect__2 = v1.import(script, v1.getModule(script, "@flamework", "core").out).Reflect;
local v3 = v1.import(script, v1.getModule(script, "@rbxts", "services"));
local v4 = setmetatable({}, {
	__tostring = function()
		return "PerformanceMetricsController";
	end
});
v4.__index = v4;
function v4.new(...)
	local v5 = setmetatable({}, v4);
	return v5:constructor(...) and v5;
end;
function v4.constructor(p1)

end;
function v4.onStart(p2)
	while true do
		local v6 = task.wait(60);
		if v6 == 0 then
			break;
		end;
		if v6 ~= v6 then
			break;
		end;
		if not v6 then
			break;
		end;
		p2:onReportMetrics();	
	end;
end;
local l__GameCoreNetEvents__1 = v1.import(script, script.Parent.Parent.Parent.Parent, "shared", "game-core-networking").GameCoreNetEvents;
local l__DeviceUtil__2 = v1.import(script, script.Parent.Parent.Parent.Parent, "shared", "util", "device-util").DeviceUtil;
local l__RunService__3 = v3.RunService;
local l__Stats__4 = v3.Stats;
function v4.onReportMetrics(p3)
	l__GameCoreNetEvents__1.client.reportPerformanceMetrics({
		deviceType = l__DeviceUtil__2.guessCurrentDeviceType(), 
		fps = 1 / l__RunService__3.RenderStepped:Wait(), 
		luaGc = collectgarbage("count"), 
		heartbeatTime = l__Stats__4.HeartbeatTimeMs, 
		physicsStepTime = l__Stats__4.PhysicsStepTimeMs, 
		totalMemory = l__Stats__4:GetTotalMemoryUsageMb(), 
		internalMemory = l__Stats__4:GetMemoryUsageMbForTag("Internal"), 
		heapMemory = l__Stats__4:GetMemoryUsageMbForTag("LuaHeap"), 
		signalMemory = l__Stats__4:GetMemoryUsageMbForTag("Signals"), 
		instanceMemory = l__Stats__4:GetMemoryUsageMbForTag("Instances"), 
		physicsCollisionMemory = l__Stats__4:GetMemoryUsageMbForTag("PhysicsCollision"), 
		physicsPartsMemory = l__Stats__4:GetMemoryUsageMbForTag("PhysicsParts"), 
		graphicsMeshPartsMemory = l__Stats__4:GetMemoryUsageMbForTag("GraphicsMeshParts"), 
		graphicsParticlesMemory = l__Stats__4:GetMemoryUsageMbForTag("GraphicsParticles"), 
		graphicsPartsMemory = l__Stats__4:GetMemoryUsageMbForTag("GraphicsParts"), 
		graphicsTextureMemory = l__Stats__4:GetMemoryUsageMbForTag("GraphicsTexture"), 
		graphicsTextureCharacterMemory = l__Stats__4:GetMemoryUsageMbForTag("GraphicsTextureCharacter"), 
		soundMemory = l__Stats__4:GetMemoryUsageMbForTag("Sounds"), 
		guiMemory = l__Stats__4:GetMemoryUsageMbForTag("Gui"), 
		animationMemory = l__Stats__4:GetMemoryUsageMbForTag("Animation"), 
		dataReceive = l__Stats__4.DataReceiveKbps, 
		dataSend = l__Stats__4.DataSendKbps, 
		physicsReceive = l__Stats__4.PhysicsReceiveKbps, 
		physicsSend = l__Stats__4.PhysicsSendKbps
	});
end;
l__Reflect__2.defineMetadata(v4, "identifier", "@easy-games/game-core:client/controllers/metrics/performance-metrics-controller@PerformanceMetricsController");
l__Reflect__2.defineMetadata(v4, "flamework:isExternal", true);
l__Reflect__2.defineMetadata(v4, "flamework:implements", { "$:flamework@OnStart" });
l__Reflect__2.defineMetadata(v4, "flamework:decorators", { "$:flamework@Controller" });
l__Reflect__2.defineMetadata(v4, "flamework:decorators.$:flamework@Controller", {
	type = "Controller"
});
return {
	PerformanceMetricsController = v4
};
