-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local v2 = v1.import(script, v1.getModule(script, "@easy-games", "game-core").out);
local v3 = v1.import(script, v1.getModule(script, "@rbxts", "roact").src);
local v4 = v1.import(script, v1.getModule(script, "@rbxts", "services"));
local v5 = v3.Component:extend("PartySearch");
local u1 = v1.import(script, v1.getModule(script, "@rbxts", "maid").Maid);
function v5.init(p1, p2)
	p1.hoverMaid = u1.new();
end;
local l__PlayerUtil__2 = v2.PlayerUtil;
function v5.invitePlayerFromSearch(p3, p4)
	print("finding player from search: " .. p4);
	local v6 = l__PlayerUtil__2.fuzzySearchPlayersByName(p4);
	if v6 ~= nil then
		v6 = v6[1];
	end;
	if v6 then
		p3.props.InvitePlayer({
			name = v6.Name, 
			userId = v6.UserId
		});
	end;
end;
local l__Players__3 = v4.Players;
local l__OfflinePlayerUtil__4 = v2.OfflinePlayerUtil;
local l__PartySuggestedPlayer__5 = v1.import(script, script.Parent, "party-suggested-player").PartySuggestedPlayer;
local l__GameTheme__6 = v2.GameTheme;
local l__ColorUtil__7 = v2.ColorUtil;
local l__TweenService__8 = v4.TweenService;
function v5.render(p5)
	local v7 = {};
	if p5.props.ShowingSearchResults and p5.props.SearchTerm ~= "" then
		local v8 = {};
		local v9 = 0;
		local v10, v11, v12 = ipairs((l__PlayerUtil__2.fuzzySearchPlayersByName(p5.props.SearchTerm)));
		while true do
			v10(v11, v12);
			if not v10 then
				break;
			end;
			if v11 ~= l__Players__3.LocalPlayer == true then
				v9 = v9 + 1;
				v8[v9] = v11;
			end;		
		end;
		local v13 = table.create(#v8);
		local v14, v15, v16 = ipairs(v8);
		while true do
			v14(v15, v16);
			if not v14 then
				break;
			end;
			v16 = v14;
			v13[v14] = l__OfflinePlayerUtil__4.getOfflinePlayer(v15);		
		end;
		v7 = v13;
	end;
	local v17 = p5.props.ShowingSearchResults;
	if v17 then
		local function v18(p6, p7)
			local v19 = {
				Player = p6, 
				LayoutOrder = p7
			};
			function v19.OnInvite()
				p5.props.InvitePlayer(p6);
			end;
			return v3.createElement(l__PartySuggestedPlayer__5, v19);
		end;
		local v20 = table.create(#v7);
		local v21, v22, v23 = ipairs(v7);
		while true do
			v21(v22, v23);
			if not v21 then
				break;
			end;
			v23 = v21;
			v20[v21] = v18(v22, v21 - 1, v7);		
		end;
		local v24 = {
			Size = p5.props.SuggestionsSize, 
			Position = UDim2.fromScale(0, p5.props.Size.Y.Scale), 
			BackgroundColor3 = l__GameTheme__6.backgroundPrimary, 
			BorderSizePixel = 0, 
			CanvasSize = UDim2.fromScale(1, 4), 
			ScrollingDirection = "Y"
		};
		local v25 = { v3.createElement("UIListLayout", {
				FillDirection = "Vertical", 
				SortOrder = "LayoutOrder"
			}) };
		local v26 = #v25;
		local v27, v28, v29 = ipairs(v20);
		while true do
			v27(v28, v29);
			if not v27 then
				break;
			end;
			v29 = v27;
			v25[v26 + v27] = v28;		
		end;
		v17 = v3.createElement("ScrollingFrame", v24, v25);
	end;
	local v30 = {};
	local v31 = {};
	local v32 = {
		Size = UDim2.fromScale(1, 0.92), 
		Text = "", 
		PlaceholderText = "Invite Player...", 
		BackgroundTransparency = 0.88, 
		BackgroundColor3 = l__ColorUtil__7.WHITE, 
		BorderSizePixel = 0, 
		TextScaled = true, 
		TextColor3 = Color3.fromRGB(255, 255, 255), 
		PlaceholderColor3 = l__ColorUtil__7.WHITE
	};
	v32[v3.Change.Text] = function(p8)
		p5.props.SetSearchTerm(p8.Text);
		if #p8.Text > 0 then
			p5.props.SetShowingSearchResults(true);
			return;
		end;
		p5.props.SetShowingSearchResults(false);
	end;
	v32[v3.Event.Focused] = function(p9)

	end;
	v32[v3.Event.FocusLost] = function(p10, p11)
		if p11 then
			p5:invitePlayerFromSearch(p10.Text);
		end;
		if p10.Text == "" then
			p5.props.SetShowingSearchResults(false);
		end;
	end;
	v32[v3.Event.MouseEnter] = function(p12)
		p5.hoverMaid:DoCleaning();
		local v33 = l__TweenService__8:Create(p12, TweenInfo.new(0.12), {
			BackgroundTransparency = 0.8
		});
		v33:Play();
		p5.hoverMaid:GiveTask(function()
			v33:Cancel();
		end);
	end;
	v32[v3.Event.MouseLeave] = function(p13)
		p5.hoverMaid:DoCleaning();
		local v34 = l__TweenService__8:Create(p13, TweenInfo.new(0.12), {
			BackgroundTransparency = 0.88
		});
		v34:Play();
		p5.hoverMaid:GiveTask(function()
			v34:Cancel();
		end);
	end;
	v31[1] = v3.createElement("TextBox", v32, { v3.createElement("UIPadding", {
			PaddingTop = UDim.new(0.32, 0), 
			PaddingBottom = UDim.new(0.32, 0)
		}) });
	v31[2] = v3.createElement("Frame", {
		Size = UDim2.fromScale(1, 0.08), 
		Position = UDim2.fromScale(0, 1), 
		AnchorPoint = Vector2.new(0, 1), 
		BackgroundColor3 = l__GameTheme__6.backgroundSecondary, 
		BorderSizePixel = 0
	});
	v30[1] = v3.createElement("Frame", {
		BackgroundColor3 = l__GameTheme__6.backgroundPrimary, 
		BorderSizePixel = 0, 
		Size = p5.props.Size
	}, v31);
	if v17 then
		v30[#v30 + 1] = v17;
	end;
	return v3.createFragment(v30);
end;
return {
	PartySearch = v5
};
