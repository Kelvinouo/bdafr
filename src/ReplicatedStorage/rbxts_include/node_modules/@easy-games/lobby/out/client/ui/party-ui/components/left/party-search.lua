-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local v2 = v1.import(script, v1.getModule(script, "@easy-games", "game-core").out);
local v3 = v1.import(script, v1.getModule(script, "@rbxts", "roact").src);
local v4 = v1.import(script, v1.getModule(script, "@rbxts", "services"));
local v5 = v3.Component:extend("PartySearch");
local u1 = v1.import(script, v1.getModule(script, "@rbxts", "maid").Maid);
function v5.init(p1, p2)
	p1.hoverMaid = u1.new();
end;
local l__PlayerUtil__2 = v2.PlayerUtil;
function v5.invitePlayerFromSearch(p3, p4)
	print("finding player from search: " .. p4);
	local v6 = l__PlayerUtil__2.fuzzySearchPlayersByName(p4);
	if v6 ~= nil then
		v6 = v6[1];
	end;
	if v6 then
		p3.props.InvitePlayer({
			name = v6.Name, 
			userId = v6.UserId
		});
	end;
end;
local l__Players__3 = v4.Players;
local l__OfflinePlayerUtil__4 = v2.OfflinePlayerUtil;
local l__PartySuggestedPlayer__5 = v1.import(script, script.Parent, "party-suggested-player").PartySuggestedPlayer;
local l__GameTheme__6 = v2.GameTheme;
local l__ColorUtil__7 = v2.ColorUtil;
local l__TweenService__8 = v4.TweenService;
function v5.render(p5)
	local v7 = {};
	if p5.props.ShowingSearchResults and p5.props.SearchTerm ~= "" then
		local v8 = l__PlayerUtil__2.fuzzySearchPlayersByName(p5.props.SearchTerm);
		local function v9(p6)
			return p6 ~= l__Players__3.LocalPlayer;
		end;
		local v10 = {};
		local v11 = 0;
		for v12, v13 in ipairs(v8) do
			if v9(v13, v12 - 1, v8) == true then
				v11 = v11 + 1;
				v10[v11] = v13;
			end;
		end;
		local function v14(p7)
			return l__OfflinePlayerUtil__4.getOfflinePlayer(p7);
		end;
		local v15 = table.create(#v10);
		for v16, v17 in ipairs(v10) do
			v15[v16] = v14(v17, v16 - 1, v10);
		end;
		v7 = v15;
	end;
	local v18 = p5.props.ShowingSearchResults;
	if v18 then
		local function v19(p8, p9)
			local v20 = {
				Player = p8, 
				LayoutOrder = p9
			};
			function v20.OnInvite()
				p5.props.InvitePlayer(p8);
			end;
			return v3.createElement(l__PartySuggestedPlayer__5, v20);
		end;
		local v21 = table.create(#v7);
		for v22, v23 in ipairs(v7) do
			v21[v22] = v19(v23, v22 - 1, v7);
		end;
		local v24 = {
			Size = p5.props.SuggestionsSize, 
			Position = UDim2.fromScale(0, p5.props.Size.Y.Scale), 
			BackgroundColor3 = l__GameTheme__6.backgroundPrimary, 
			BorderSizePixel = 0, 
			CanvasSize = UDim2.fromScale(1, 4), 
			ScrollingDirection = "Y"
		};
		local v25 = { v3.createElement("UIListLayout", {
				FillDirection = "Vertical", 
				SortOrder = "LayoutOrder"
			}) };
		local v26 = #v25;
		for v27, v28 in ipairs(v21) do
			v25[v26 + v27] = v28;
		end;
		v18 = v3.createElement("ScrollingFrame", v24, v25);
	end;
	local v29 = {};
	local v30 = {};
	local v31 = {
		Size = UDim2.fromScale(1, 0.92), 
		Text = "", 
		PlaceholderText = "Invite Player...", 
		BackgroundTransparency = 0.88, 
		BackgroundColor3 = l__ColorUtil__7.WHITE, 
		BorderSizePixel = 0, 
		TextScaled = true, 
		TextColor3 = Color3.fromRGB(255, 255, 255), 
		PlaceholderColor3 = l__ColorUtil__7.WHITE
	};
	v31[v3.Change.Text] = function(p10)
		p5.props.SetSearchTerm(p10.Text);
		if #p10.Text > 0 then
			p5.props.SetShowingSearchResults(true);
			return;
		end;
		p5.props.SetShowingSearchResults(false);
	end;
	v31[v3.Event.Focused] = function(p11)

	end;
	v31[v3.Event.FocusLost] = function(p12, p13)
		if p13 then
			p5:invitePlayerFromSearch(p12.Text);
		end;
		if p12.Text == "" then
			p5.props.SetShowingSearchResults(false);
		end;
	end;
	v31[v3.Event.MouseEnter] = function(p14)
		p5.hoverMaid:DoCleaning();
		local v32 = l__TweenService__8:Create(p14, TweenInfo.new(0.12), {
			BackgroundTransparency = 0.8
		});
		v32:Play();
		p5.hoverMaid:GiveTask(function()
			v32:Cancel();
		end);
	end;
	v31[v3.Event.MouseLeave] = function(p15)
		p5.hoverMaid:DoCleaning();
		local v33 = l__TweenService__8:Create(p15, TweenInfo.new(0.12), {
			BackgroundTransparency = 0.88
		});
		v33:Play();
		p5.hoverMaid:GiveTask(function()
			v33:Cancel();
		end);
	end;
	v30[1] = v3.createElement("TextBox", v31, { v3.createElement("UIPadding", {
			PaddingTop = UDim.new(0.32, 0), 
			PaddingBottom = UDim.new(0.32, 0)
		}) });
	v30[2] = v3.createElement("Frame", {
		Size = UDim2.fromScale(1, 0.08), 
		Position = UDim2.fromScale(0, 1), 
		AnchorPoint = Vector2.new(0, 1), 
		BackgroundColor3 = l__GameTheme__6.backgroundSecondary, 
		BorderSizePixel = 0
	});
	v29[1] = v3.createElement("Frame", {
		BackgroundColor3 = l__GameTheme__6.backgroundPrimary, 
		BorderSizePixel = 0, 
		Size = p5.props.Size
	}, v30);
	if v18 then
		v29[#v29 + 1] = v18;
	end;
	return v3.createFragment(v29);
end;
return {
	PartySearch = v5
};
