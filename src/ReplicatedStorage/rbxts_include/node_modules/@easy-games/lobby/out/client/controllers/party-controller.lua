-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local l__Reflect__2 = v1.import(script, v1.getModule(script, "@flamework", "core").out).Reflect;
local v3 = v1.import(script, v1.getModule(script, "@flamework", "core").out);
local v4 = v1.import(script, v1.getModule(script, "@rbxts", "services"));
local v5 = setmetatable({}, {
	__tostring = function()
		return "PartyController";
	end
});
v5.__index = v5;
function v5.new(...)
	local v6 = setmetatable({}, v5);
	return v6:constructor(...) and v6;
end;
function v5.constructor(p1)

end;
local l__LobbyClientEvents__1 = v1.import(script, script.Parent.Parent, "events").LobbyClientEvents;
local l__TeleportService__2 = v4.TeleportService;
function v5.onStart(p2)
	l__LobbyClientEvents__1.requestPartyInfo:fire();
	local v7 = l__TeleportService__2:GetLocalPlayerTeleportData();
	if not v7 then
		l__LobbyClientEvents__1.lobbyPlayerConnect({});
		return;
	end;
	l__LobbyClientEvents__1.lobbyPlayerConnect(v7);
end;
local l__LobbyClientConfig__3 = v1.import(script, script.Parent.Parent, "config", "lobby-client-config").LobbyClientConfig;
local l__Players__4 = v4.Players;
local l__PartyRole__5 = v1.import(script, script.Parent.Parent.Parent, "shared", "party", "party-role").PartyRole;
function v5.getLocalPartyRole(p3, p4)
	local l__Party__8 = l__LobbyClientConfig__3.store:getState().Party;
	if l__Party__8.leader.userId == l__Players__4.LocalPlayer.UserId then
		return l__PartyRole__5.LEADER;
	end;
	local v9 = nil;
	local v10, v11, v12 = ipairs(l__Party__8.members);
	while true do
		v10(v11, v12);
		if not v10 then
			break;
		end;
		v12 = v10;
		if v11.userId == p4.userId == true then
			v9 = v11;
			break;
		end;	
	end;
	if v9 ~= nil then
		return l__PartyRole__5.MEMBER;
	end;
	return l__PartyRole__5.NONE;
end;
function v5.getLocalPartyPlayers(p5)
	local v13 = { l__LobbyClientConfig__3.store:getState().Party.leader };
	local l__members__14 = l__LobbyClientConfig__3.store:getState().Party.members;
	table.move(l__members__14, 1, #l__members__14, #v13 + 1, v13);
	return v13;
end;
function v5.isInLocalParty(p6, p7)
	local v15 = nil;
	local v16, v17, v18 = ipairs((p6:getLocalPartyPlayers()));
	while true do
		v16(v17, v18);
		if not v16 then
			break;
		end;
		v18 = v16;
		if v17.userId == p7.UserId == true then
			v15 = v17;
			break;
		end;	
	end;
	return v15 ~= nil;
end;
function v5.invitePlayer(p8, p9)
	l__LobbyClientEvents__1.inviteToParty({
		player = p9
	});
end;
function v5.removePlayer(p10, p11)
	l__LobbyClientEvents__1.removeFromParty({
		player = p11
	});
end;
function v5.leaveParty(p12)
	l__LobbyClientEvents__1.leaveParty();
end;
function v5.joinParty(p13, p14)
	local v19 = l__Players__4:GetPlayerByUserId(p14);
	if not v19 then
		return false;
	end;
	l__LobbyClientEvents__1.joinParty({
		leader = v19
	});
	return true;
end;
l__Reflect__2.defineMetadata(v5, "identifier", "@easy-games/lobby:client/controllers/party-controller@PartyController");
l__Reflect__2.defineMetadata(v5, "flamework:implements", { "$:flamework@OnStart" });
l__Reflect__2.decorate(v5, "$:flamework@Controller", v3.Controller, { {} });
l__Reflect__2.decorate(v5, "$:flamework@External", v3.External, {});
return {
	PartyController = v5
};
