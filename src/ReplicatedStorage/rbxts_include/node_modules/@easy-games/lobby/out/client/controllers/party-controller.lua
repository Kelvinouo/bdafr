-- Script Hash: d0a6120cb0984cd21a54887f68c8728b828ac48301303da6d54494a8600a0e401e7ec9095969c06a85bcdd918fb55ad9
-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local l__Reflect__2 = v1.import(script, v1.getModule(script, "@flamework", "core").out).Reflect;
local v3 = v1.import(script, v1.getModule(script, "@flamework", "core").out);
local v4 = v1.import(script, v1.getModule(script, "@rbxts", "services"));
local v5 = setmetatable({}, {
	__tostring = function()
		return "PartyController";
	end
});
v5.__index = v5;
function v5.new(...)
	local v6 = setmetatable({}, v5);
	return v6:constructor(...) and v6;
end;
function v5.constructor(p1)

end;
local l__LobbyClientEvents__1 = v1.import(script, script.Parent.Parent, "events").LobbyClientEvents;
local l__TeleportService__2 = v4.TeleportService;
function v5.onStart(p2)
	l__LobbyClientEvents__1.requestPartyInfo:fire();
	local v7 = l__TeleportService__2:GetLocalPlayerTeleportData();
	if not v7 then
		l__LobbyClientEvents__1.lobbyPlayerConnect({});
		return;
	end;
	l__LobbyClientEvents__1.lobbyPlayerConnect(v7);
end;
local l__LobbyClientConfig__3 = v1.import(script, script.Parent.Parent, "config", "lobby-client-config").LobbyClientConfig;
local l__Players__4 = v4.Players;
local l__PartyRole__5 = v1.import(script, script.Parent.Parent.Parent, "shared", "party", "party-role").PartyRole;
function v5.getLocalPartyRole(p3, p4)
	local l__Party__8 = l__LobbyClientConfig__3.store:getState().Party;
	if l__Party__8.leader.userId == l__Players__4.LocalPlayer.UserId then
		return l__PartyRole__5.LEADER;
	end;
	local l__members__9 = l__Party__8.members;
	local function v10(p5)
		return p5.userId == p4.userId;
	end;
	local v11 = nil;
	for v12, v13 in ipairs(l__members__9) do
		if v10(v13, v12 - 1, l__members__9) == true then
			v11 = v13;
			break;
		end;
	end;
	if v11 ~= nil then
		return l__PartyRole__5.MEMBER;
	end;
	return l__PartyRole__5.NONE;
end;
function v5.getLocalPartyPlayers(p6)
	local v14 = { l__LobbyClientConfig__3.store:getState().Party.leader };
	local l__members__15 = l__LobbyClientConfig__3.store:getState().Party.members;
	table.move(l__members__15, 1, #l__members__15, #v14 + 1, v14);
	return v14;
end;
function v5.isInLocalParty(p7, p8)
	local v16 = p7:getLocalPartyPlayers();
	local function v17(p9)
		return p9.userId == p8.UserId;
	end;
	local v18 = nil;
	for v19, v20 in ipairs(v16) do
		if v17(v20, v19 - 1, v16) == true then
			v18 = v20;
			break;
		end;
	end;
	return v18 ~= nil;
end;
function v5.invitePlayer(p10, p11)
	l__LobbyClientEvents__1.inviteToParty({
		player = p11
	});
end;
function v5.removePlayer(p12, p13)
	l__LobbyClientEvents__1.removeFromParty({
		player = p13
	});
end;
function v5.leaveParty(p14)
	l__LobbyClientEvents__1.leaveParty();
end;
function v5.joinParty(p15, p16)
	local v21 = l__Players__4:GetPlayerByUserId(p16);
	if not v21 then
		return false;
	end;
	l__LobbyClientEvents__1.joinParty({
		leader = v21
	});
	return true;
end;
l__Reflect__2.defineMetadata(v5, "identifier", "@easy-games/lobby:client/controllers/party-controller@PartyController");
l__Reflect__2.defineMetadata(v5, "flamework:implements", { "$:flamework@OnStart" });
l__Reflect__2.decorate(v5, "$:flamework@Controller", v3.Controller, { {} });
l__Reflect__2.decorate(v5, "$:flamework@External", v3.External, {});
return {
	PartyController = v5
};
