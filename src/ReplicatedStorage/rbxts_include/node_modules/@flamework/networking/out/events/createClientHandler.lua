-- Decompiled with the Synapse X Luau decompiler.

local v1 = _G[script];
local u1 = v1.import(script, script.Parent.Parent, "middleware", "createMiddlewareProcessor").createMiddlewareProcessor;
local l__fireNetworkHandler__2 = v1.import(script, script.Parent.Parent, "handlers").fireNetworkHandler;
local l__Players__3 = v1.import(script, v1.getModule(script, "@rbxts", "services")).Players;
local u4 = nil;
u4 = function(p1, p2, p3, p4)
	local v2 = {};
	function v2.fire(p5, ...)
		p1:FireServer(unpack({ ... }));
	end;
	function v2.connect(p6, p7, p8)
		assert(p3, "Event " .. p1.Name .. " is not registered as a receiver.");
		return p3.Event:Connect(function(...)
			local v3 = { ... };
			if p8 then
				local v4 = 0;
				local v5 = false;
				while true do
					if v5 then
						v4 = v4 + 1;
					else
						v5 = true;
					end;
					if not (v4 < p2) then
						break;
					end;
					local v6 = p8[v4 + 1];
					if v6 ~= nil and not v6(v3[v4 + 1]) then
						return nil;
					end;				
				end;
			end;
			return p7(unpack(v3));
		end);
	end;
	function v2.predict(p9, ...)
		assert(p4, "Event " .. p1.Name .. " does not have a middleware processor.");
		p4(nil, unpack({ ... }));
	end;
	setmetatable(v2, {
		__call = function(p10, ...)
			p10:fire(unpack({ ... }));
		end
	});
	return v2;
end;
return {
	createClientHandler = function(p11, p12, p13, p14, p15)
		local v7 = {};
		local v8 = {};
		local v9 = {};
		for v10, v11 in pairs(p14) do
			v8[v10] = Instance.new("BindableEvent");
		end;
		for v12, v13 in pairs(p11) do
			local v14 = p12[v12];
			local v15 = p15;
			if v15 ~= nil then
				v15 = v15[v12];
			end;
			local v16 = u1(v15, v14, function(p16, ...)
				local v17 = v8[v12];
				if v17 ~= nil then
					v17 = v17:Fire(unpack({ ... }));
				end;
				return v17;
			end);
			v9[v12] = v16;
			v13.OnClientEvent:Connect(function(...)
				local v18 = { ... };
				local v19 = p14[v12];
				if not v19 then
					return nil;
				end;
				local v20 = 0;
				local v21 = false;
				while true do
					if v21 then
						v20 = v20 + 1;
					else
						v21 = true;
					end;
					if not (v20 < #v19) then
						break;
					end;
					if not v19[v20 + 1](v18[v20 + 1]) then
						l__fireNetworkHandler__2("onBadRequest", l__Players__3.LocalPlayer, v14, v20);
						return nil;
					end;				
				end;
				v16(nil, unpack(v18));
			end);
		end;
		local v22, v23, v24 = pairs(p11);
		while true do
			local v25, v26 = v22(v23, v24);
			if not v25 then
				break;
			end;
			local v27 = p14[v25];
			if v27 ~= nil then
				v27 = #v27;
			end;
			local v28 = v27;
			if v28 == nil then
				v28 = 0;
			end;
			v7[v25] = u4(v26, v28, v8[v25], v9[v25]);		
		end;
		return v7;
	end
};
