-- Decompiled with the Synapse X Luau decompiler.

local u1 = _G[script];
return {
	createMiddlewareProcessor = function(p1, p2, p3)
		local v1 = {};
		if not p1 or #p1 == 0 then
			v1[1] = p3;
		else
			local v2 = #p1 - 1;
			local v3 = false;
			while true do
				if v3 then
					v2 = v2 - 1;
				else
					v3 = true;
				end;
				if not (v2 >= 0) then
					break;
				end;
				local v4 = v1[v2 + 1 + 1];
				if v4 == nil then
					v4 = p3;
				end;
				v1[v2 + 1] = p1[v2 + 1](u1.async(function(p4, ...)
					return v4(p4, unpack({ ... }));
				end), p2);			
			end;
		end;
		return u1.async(function(p5, ...)
			return v1[1](p5, unpack({ ... }));
		end);
	end
};
